#pragma checksum "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ea74070c80030a4f9daccd33dc10ec8765fc4ebb"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Order_ProductDetailForAdmin), @"mvc.1.0.view", @"/Views/Order/ProductDetailForAdmin.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\_ViewImports.cshtml"
using GProject.WebApplication;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\_ViewImports.cshtml"
using X.PagedList.Mvc.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
using GProject.WebApplication.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
using GProject.Api.MyServices.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
using GProject.Data.DomainClass;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
using GProject.WebApplication.Helpers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
using GProject.Data.MyRepositories.IRepositories;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ea74070c80030a4f9daccd33dc10ec8765fc4ebb", @"/Views/Order/ProductDetailForAdmin.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"1fbcf431fddd7af05102fdaaa3deed8323ce67f6", @"/Views/_ViewImports.cshtml")]
    public class Views_Order_ProductDetailForAdmin : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Tuple<GProject.Data.DomainClass.Product, List<GProject.Data.DomainClass.ProductVariation>,
GProject.Data.DomainClass.Brand, EvaluateCommentDTO, decimal, int, Customer>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("imgProd"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("style", new global::Microsoft.AspNetCore.Html.HtmlString("width:650px;height:500px;"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("alt", new global::Microsoft.AspNetCore.Html.HtmlString(""), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("style", new global::Microsoft.AspNetCore.Html.HtmlString("width:130px; height:160px;"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("img-thumbnail"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("formdata"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("form-horizontal d-block"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 9 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
  
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    Guid orderid = (Guid)TempData["orderId"];
    TempData.Keep("orderId");
    var ratingSum = Model.Item5;
    var ratingCount = Model.Item6;
    decimal rating = 0;
    if (ratingCount > 0)
    {
        rating = (ratingSum / ratingCount);
    }
    var totalRating = decimal.Parse(rating.ToString());

    var lstColor = await Commons.GetAll<Color>(String.Concat(Commons.mylocalhost, "Color/get-all-Color"));
    var lstSize = await Commons.GetAll<Size>(String.Concat(Commons.mylocalhost, "Size/get-all-Size"));
    var lstCustomer = await Commons.GetAll<Customer>(String.Concat(Commons.mylocalhost, "Customer/get-all-Customer"));
    var lstOrder = await Commons.GetAll<Order>(String.Concat(Commons.mylocalhost, "Order/get-all-Order"));
    var lstOrderDetail = await Commons.GetAll<OrderDetail>(String.Concat(Commons.mylocalhost,
    "Order/get-all-Order-detail"));
    var lstProducts = await Commons.GetAll<Product>(String.Concat(Commons.mylocalhost, "ProductMGR/get-all-Product-mgr"));
    var lstProductvariation = await Commons.GetAll<ProductVariation>(String.Concat(Commons.mylocalhost,
    "ProductVariation/get-all-ProductVariation"));

    var lstEvaluates = await Commons.GetAll<Evaluate>(String.Concat(Commons.mylocalhost, "Evaluate/get-all-Evaluate"));
    IPromotionRepository _IPromotionRepository = new PromotionRepository();
    IPromotionDetailRepository _IPromotionDetalRepository = new PromotionDetailRepository();

    var promotiondata = (from p in _IPromotionRepository.GetAll()
                         join q in _IPromotionDetalRepository.GetAll() on p.Id equals q.PromotionId
                         where p.Status == GProject.Data.Enums.PromotionStatus.Happenning
                         select new
                         {
                             Promotion = p,
                             PromotionDetail = q
                         }).ToList();

    decimal price = Model.Item1.Price;
    var existProdPromotion = promotiondata.Where(c => c.PromotionDetail.ProductId == Model.Item1.Id).FirstOrDefault();
    if (existProdPromotion != null)
    {
        price = existProdPromotion.PromotionDetail.CurrentPrice;
    }


#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n\r\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/UserContent/styles/categories_styles.css\">\r\n<link href=\"/css/product_details.css\" rel=\"stylesheet\">\r\n<link href=\"/AdminContent/css/style.min.css\" rel=\"stylesheet\">\r\n<input hidden=\"hidden\" id=\"orderid\"");
            BeginWriteAttribute("value", " value=\"", 2956, "\"", 2972, 1);
#nullable restore
#line 59 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
WriteAttributeValue("", 2964, orderid, 2964, 8, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n<div>\r\n");
#nullable restore
#line 61 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
     if (@ViewData["Mess"] != null)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <p style=\"visibility: hidden;\" id=\"error\">");
#nullable restore
#line 63 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                             Write(ViewData["Mess"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n");
#nullable restore
#line 64 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 65 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
     if (@ViewData["message"] != null)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <p style=\"visibility: hidden;\" id=\"messerror\">");
#nullable restore
#line 67 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                                 Write(ViewData["message"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n");
#nullable restore
#line 68 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 69 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
     if (Model != null)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div id=\"motor-detail\" class=\"container\">\r\n            <div class=\"row overview\">\r\n                <div class=\"col-12 col-lg-7 overview-left container-fliud\">\r\n                    <div class=\"characteristics-image text-center\">\r\n");
#nullable restore
#line 75 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                          
                            string img = Model.Item2.Where(c => c.ProductId == Model.Item1.Id).Select(c =>
                            c.Image).FirstOrDefault();
                        

#line default
#line hidden
#nullable disable
            WriteLiteral("                        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagOnly, "ea74070c80030a4f9daccd33dc10ec8765fc4ebb13299", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            BeginAddHtmlAttributeValues(__tagHelperExecutionContext, "src", 2, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            AddHtmlAttributeValue("", 3812, "~/images/", 3812, 9, true);
#nullable restore
#line 79 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
AddHtmlAttributeValue("", 3821, img, 3821, 4, false);

#line default
#line hidden
#nullable disable
            EndAddHtmlAttributeValues(__tagHelperExecutionContext);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <fieldset>\r\n\r\n                            <hr>\r\n");
#nullable restore
#line 85 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                              
                                foreach (var item in Model.Item2.Select(c => c.ColorId).Distinct().ToList())
                                {
                                    string im = Model.Item2.Where(c => c.ColorId == item && c.ProductId == Model.Item1.Id).Select(c =>
                                    c.Image).FirstOrDefault().NullToString();

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <button type=\"button\"");
            BeginWriteAttribute("onclick", " onclick=\"", 4424, "\"", 4456, 3);
            WriteAttributeValue("", 4434, "changeImageProd(\'", 4434, 17, true);
#nullable restore
#line 90 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
WriteAttributeValue("", 4451, im, 4451, 3, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4454, "\')", 4454, 2, true);
            EndWriteAttribute();
            WriteLiteral(">\r\n                                        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagOnly, "ea74070c80030a4f9daccd33dc10ec8765fc4ebb16496", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            BeginAddHtmlAttributeValues(__tagHelperExecutionContext, "src", 2, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            AddHtmlAttributeValue("", 4601, "~/images/", 4601, 9, true);
#nullable restore
#line 92 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
AddHtmlAttributeValue("", 4610, im, 4610, 3, false);

#line default
#line hidden
#nullable disable
            EndAddHtmlAttributeValues(__tagHelperExecutionContext);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n                                    </button>\r\n");
#nullable restore
#line 94 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                }
                            

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </fieldset>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-12 col-lg-5 overview-right\">\r\n                    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "ea74070c80030a4f9daccd33dc10ec8765fc4ebb18790", async() => {
                WriteLiteral(@"
                        <input id=""cTotalMoney"" name=""cTotalMoney"" hidden=""hidden"" />
                        <input id=""cColor"" name=""cColor"" hidden=""hidden"" />
                        <input id=""cSize"" name=""cSize"" hidden=""hidden"" />
                        <input id=""cQuantity"" name=""cQuantity"" hidden=""hidden"" />
                        <input id=""cPrice"" name=""cPrice"" hidden=""hidden"" />
                        <input id=""cProductId"" name=""cProductId""");
                BeginWriteAttribute("value", " value=\"", 5425, "\"", 5459, 1);
#nullable restore
#line 106 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
WriteAttributeValue("", 5433, Model.Item1.Id.ToString(), 5433, 26, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" hidden=\"hidden\" />\r\n\r\n                        <h2 class=\"d-none d-lg-block\" style=\"color:Black\">");
#nullable restore
#line 108 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                                                     Write(Model.Item1.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral("</h2>\r\n\r\n                        <div class=\"row\">\r\n                            <h3 class=\"d-none d-lg-block\" style=\"color:Red\">\r\n                                Giá hiện tại: ");
#nullable restore
#line 112 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                         Write(string.Format("{0:0,0}", price));

#line default
#line hidden
#nullable disable
                WriteLiteral(" đ\r\n");
#nullable restore
#line 113 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                 if (existProdPromotion != null)
                                {

#line default
#line hidden
#nullable disable
                WriteLiteral("                                    <del style=\"    color: gray; font-size: 18px;\">");
#nullable restore
#line 115 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                                                              Write(string.Format("{0:0,0}", existProdPromotion.PromotionDetail.InitialPrice));

#line default
#line hidden
#nullable disable
                WriteLiteral(" đ </del>\r\n");
#nullable restore
#line 116 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                }

#line default
#line hidden
#nullable disable
                WriteLiteral(@"                            </h3>

                        </div>
                        <div class=""overview-detail mb-3"" style=""min-height: 0"">
                            <div class=""characteristics-desc"">
                                <h4>Nhãn hiệu: ");
#nullable restore
#line 122 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                          Write(Model.Item3.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral("</h4>\r\n");
#nullable restore
#line 123 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                  
                                    string productType = "";
                                    foreach (var item in Model.Item1.ProductType.Split(',').Distinct().ToList())
                                    {
                                        switch (item)
                                        {
                                            case "0":
                                                productType += "Sản phẩm bình thường";
                                                break;
                                            case "1":
                                                productType += "Sản phẩm mới";
                                                break;
                                            case "2":
                                                productType += "Sản phẩm nổi bật";
                                                break;
                                            case "3":
                                                productType += "Sản phẩm được yêu thích";
                                                break;
                                            case "4":
                                                productType += "Sản phẩm khuyến mại";
                                                break;
                                            default:
                                                break;
                                        }
                                    }
                                

#line default
#line hidden
#nullable disable
                WriteLiteral("                                <h4>Loại sản phẩm: ");
#nullable restore
#line 149 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                              Write(productType);

#line default
#line hidden
#nullable disable
                WriteLiteral("</h4>\r\n                                <h4>Lượt xem: ");
#nullable restore
#line 150 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                         Write(Model.Item1.ViewCount);

#line default
#line hidden
#nullable disable
                WriteLiteral(" <i class=\"fa fa-eye\"></i></h4>\r\n\r\n                                <h4>\r\n                                    Số lượng còn lại:\r\n                                    <span id=\"mQuantityInstock\"");
                BeginWriteAttribute("value", " value=\"", 8266, "\"", 8274, 0);
                EndWriteAttribute();
                WriteLiteral(">\r\n                                        ");
#nullable restore
#line 155 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                   Write(Model.Item2.Sum(c => c.QuantityInStock));

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n\r\n                                    </span>\r\n                                </h4>\r\n                                <h4 class=\"cl-class\">\r\n                                    Màu sắc:\r\n");
#nullable restore
#line 161 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                      
                                        foreach (var item in Model.Item2.Select(c => c.ColorId).Distinct().ToList())
                                        {
                                            string im = Model.Item2.Where(c => c.ColorId == item && c.ProductId == Model.Item1.Id).Select(c => c.Image).FirstOrDefault().NullToString();

#line default
#line hidden
#nullable disable
                WriteLiteral("                                            <button type=\"button\"");
                BeginWriteAttribute("value", " value=\"", 8999, "\"", 9012, 1);
#nullable restore
#line 165 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
WriteAttributeValue("", 9007, item, 9007, 5, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" id=\"btnColor\"");
                BeginWriteAttribute("onclick", " onclick=\"", 9027, "\"", 9059, 3);
                WriteAttributeValue("", 9037, "changeImageProd(\'", 9037, 17, true);
#nullable restore
#line 165 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
WriteAttributeValue("", 9054, im, 9054, 3, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 9057, "\')", 9057, 2, true);
                EndWriteAttribute();
                WriteLiteral(" style=\"padding: 0 5px 0 5px;\"");
                BeginWriteAttribute("href", " href=\"", 9090, "\"", 9133, 4);
                WriteAttributeValue("", 9097, "/productdetail/", 9097, 15, true);
#nullable restore
#line 165 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
WriteAttributeValue("", 9112, item, 9112, 5, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 9117, "/", 9117, 1, true);
#nullable restore
#line 165 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
WriteAttributeValue("", 9118, Model.Item1.Id, 9118, 15, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(">\r\n                                                ");
#nullable restore
#line 166 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                            Write(lstColor.FirstOrDefault(c => c.Id == item).Name.NullToString());

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                                            </button>\r\n");
#nullable restore
#line 168 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                        }
                                    

#line default
#line hidden
#nullable disable
                WriteLiteral("                                </h4>\r\n                                <h4 class=\"si-class\">\r\n                                    Size:\r\n");
#nullable restore
#line 173 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                      

                                        foreach (var item in Model.Item2.Select(c => c.SizeId).Distinct().ToList())
                                        {

#line default
#line hidden
#nullable disable
                WriteLiteral("                                            <button type=\"button\"");
                BeginWriteAttribute("value", " value=\"", 9793, "\"", 9806, 1);
#nullable restore
#line 177 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
WriteAttributeValue("", 9801, item, 9801, 5, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" id=\"btnSize\" style=\"padding: 0 9px 0 9px;\">\r\n                                                ");
#nullable restore
#line 178 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                            Write(lstSize.FirstOrDefault(c => c.Id == item).Code.NullToString());

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                                            </button>\r\n");
#nullable restore
#line 180 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                        }
                                    

#line default
#line hidden
#nullable disable
                WriteLiteral(@"                                </h4>

                                <div class=""input-group plus-minus-input row"">
                                    <h4 class=""col-md-4"">Số lượng:</h4>
                                    <div class=""col-md-8 justify-content-center"">
                                        <div class=""row"">
                                            <div class=""input-group-button col-md-3 mt-2"">
                                                <button type=""button"" class=""btn-warning hollow circle"" data-quantity=""minus""
                                                    data-field=""quantity"" style=""margin-right:5px;"">
                                                    <i class=""fa fa-minus"" aria-hidden=""true""></i>
                                                </button>
                                            </div>
                                            <input class=""input-group-field form-control col-md-5 quantity"" type=""number"" id=""quantity""
                   ");
                WriteLiteral(@"                            name=""quantity"" value=""0"" style=""width:100px;"">
                                            <div class=""input-group-button col-md-3 mt-2"">
                                                <button type=""button"" class=""btn-info hollow circle"" data-quantity=""plus""
                                                    data-field=""quantity"" style=""margin-left:5px;"">
                                                    <i class=""fa fa-plus"" aria-hidden=""true""></i>
                                                </button>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                <hr>
                                <div class=""row"">
                                    <h3 class=""col-4"">Thành tiền:</h3>
                                    <h3 class=""col-8"" style=""color:red;"" id=""totalMoney"" name=""totalMoney""> 0 đ</h3>
      ");
                WriteLiteral(@"                          </div>
                                <div class=""form-group"">
                                    <label class=""control-label col-sm-3"">Mô tả của bạn:</label>
                                    <div class=""col-sm-12"">
                                        <textarea class=""form-control"" name=""cDescription"" id=""cDescription"" cols=""50"" rows=""5""
                                              style=""border:double 4px orange;""></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class=""row"">
                            <button type=""button"" id=""btnAction"" onclick=""AddToOrder()"" class=""btn btn-outline-danger col-md-5"">
                                <i class=""fa fa-shopping-cart"" style=""margin-right:10px; font-size: 17px;""></i>Thêm vào đơn hàng
                            </button>
                        </div>
                    ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n                </div>\r\n            </div>\r\n        </div>\r\n");
#nullable restore
#line 230 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
    <script type=""text/javascript"">
        $(document).ready(function () {
            $('input.quantity').keyup(function () {
                let regex = /^[0-9]+$/;
                if (!regex.test($(this).val()))
                    $(this).val($(this).val().replace(/[^0-9.]/g, """"));
            });

            $('[data-quantity=""plus""]').click(function (e) {
                e.preventDefault();
                fieldName = $(this).attr('data-field');
                var currentVal = parseInt($('input[name=' + fieldName + ']').val());
                if (!isNaN(currentVal)) {
                    $('input[name=' + fieldName + ']').val(currentVal + 1);
                } else {
                    $('input[name=' + fieldName + ']').val(0);
                }
                sumTotal();
            });
            $('[data-quantity=""minus""]').click(function (e) {
                e.preventDefault();
                fieldName = $(this).attr('data-field');
                var currentVal = pa");
            WriteLiteral(@"rseInt($('input[name=' + fieldName + ']').val());
                if (!isNaN(currentVal) && currentVal > 0) {
                    $('input[name=' + fieldName + ']').val(currentVal - 1);
                } else {
                    $('input[name=' + fieldName + ']').val(0);
                }
                sumTotal();
            });

            $("".quantity"").change(function () {
                sumTotal();
            });

            $('.cl-class > button').click(function () {
                $('.cl-class > button').css('background-color', 'white');
                $(this).css('background-color', '#00CCCC');
                $('#cColor').val($(this).val());
                getQuantityInstock();
            });

            $('.si-class > button').click(function () {
                $('.si-class > button').css('background-color', 'white');
                $(this).css('background-color', '#00CCCC');
                $('#cSize').val($(this).val());
                getQuantityInstock();");
            WriteLiteral(@"
            });

            var er = document.getElementById('error')
            if (er != null) {
                if ($('#error').text() == 'Failed')
                    swal(""Không thành công"", ""Thao tác thất bại, vui lòng thực hiện lại"", ""error"");
                else
                    swal(""Thành công"", ""Thao tác thành công"", ""success"");
            }

            var messerror = document.getElementById('messerror')
            if (messerror != null) {
                swal(""Không thành công"", messerror, ""error"");
            }
        });

        function TinhPhanTram(tongtien, giamgia) {
            let thanhtien = tongtien - (tongtien * ((100 - giamgia) / 100))
            return thanhtien
        }

        function ConvertDate(time) {
            var date = new Date(time);
            var dateConvert = (((date.getDate() > 9) ? date.getDate() : ('0' + date.getDate())) + '/' + ((date.getMonth() > 8) ? (date.getMonth() + 1) : ('0' + (date.getMonth() + 1))) + '/' + date.getFul");
            WriteLiteral(@"lYear())
            return dateConvert
        }

        function getQuantityInstock() {
            $.ajax({
                data: {
                    cColorId: $('#cColor').val(),
                    cSizeId: $('#cSize').val(),
                    cProductId: $('#cProductId').val()
                },
                contentType: 'application/json',
                dataType: 'json',
                url: '/Product/GetQuantityInstock',
                type: 'GET',
                success: function (result) {
                    $('#mQuantityInstock').text(result);
                }
            });
        }

        function sumTotal() {
            let mQuantity = parseInt($('#quantity').val().replace(/,/g, '') || 0) || 0;
            let mPrice = parseFloat(");
#nullable restore
#line 325 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                               Write(price);

#line default
#line hidden
#nullable disable
            WriteLiteral(@") || 0;
            $('#cQuantity').val(mQuantity);
            $('#cPrice').val(mPrice);
            $('#cTotalMoney').val(mQuantity * mPrice);
            $('#pTotalMoney').val(mQuantity * mPrice);
            $('#totalMoney').text(commasThousands(mQuantity * mPrice) + ' đ');
            $('#txtTotalProduct').text(commasThousands($('#pTotalMoney').val()));
        }

        function commasThousands(nStr) {
            nStr += '';
            nStr = nStr.replace(/,/g, '');
            x = nStr.split('.');
            x1 = x[0];
            x2 = x.length > 1 ? '.' + x[1] : '';
            var rgx = /(\d+)(\d{3})/;
            while (rgx.test(x1)) {
                x1 = x1.replace(rgx, '$1' + ',' + '$2');
            }
            return x1 + x2;
        }

        function checkValidateData() {
            if ($('#cQuantity').val() == '' || $('#cQuantity').val() == '0') {
                sweetAlert(""Thông tin số lượng sản phẩm không được để trống"", """", ""error"");
                retur");
            WriteLiteral(@"n false;
            }
            if (parseInt($('#cQuantity').val() || 0) > parseInt($('#mQuantityInstock').text() || 0)) {
                sweetAlert(""Số lượng còn lại của sản phẩm còn lại là "" + parseInt($('#mQuantityInstock').text() || 0) + "", số lượng bạn đặt vượt quá số lượng còn lại"", """", ""error"");
                return false;
            }
            if ($('#cSize').val() == '') {
                sweetAlert(""Vui lòng chọn kích cỡ"", """", ""error"");
                return false;
            }
            if ($('#cColor').val() == '') {
                sweetAlert(""Vui lòng chọn màu sắc"", """", ""error"");
                return false;
            }

            return true;
        }

        function changeImageProd(strImage) {
            $('#imgProd').attr('src', '/images/' + strImage);
            getQuantityInstock();
        }

        function changeLikeCount() {
            $.ajax({
                data: { cProductId: $('#cProductId').val() },
                contentType: '");
            WriteLiteral(@"application/json',
                dataType: 'json',
                url: '/Product/ReleaseHeart',
                type: 'GET',
                success: function (response) {
                    location.reload();
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    location.reload();
                }
            });
        }

        function AddToOrder() {
            if (checkValidateData()) {
                swal("""", {
                    title: 'Thêm sản phẩm vào đơn hàng sẽ dẫn đến thay đổi thành tiền, bạn vẫn muốn thay đổi chứ?',
                    icon: 'warning',
                    buttons: [""Không, tôi cần xem lại"", ""Có, tôi đồng ý""],
                }).then(function (isConfirm) {
                    if (isConfirm) {
                        var _product = {};
                        _product.color = parseInt($('#cColor').val());
                        _product.size = parseInt($('#cSize').val());
                        ");
            WriteLiteral(@"_product.price = parseFloat($('#cPrice').val());
                        _product.quantity = parseInt($('#cQuantity').val());
                        _product.totalMoneyItem = parseFloat($('#cTotalMoney').val());
                        _product.productId = $('#cProductId').val();

                        $.ajax({
                            data: {
                                products: JSON.stringify(_product)
                            },
                            contentType: 'application/json',
                            dataType: 'json',
                            url: '/Order/AddToOrderForAdmin',
                            type: 'GET',
                            success: function (result) {
                                swal(""Thêm vào đơn hàng thành công"", """", ""success"");
                                window.location = '/Order/Update?id=");
#nullable restore
#line 415 "C:\Users\Admin\Documents\GProject\GProject.WebApplication\GProject.WebApplication\Views\Order\ProductDetailForAdmin.cshtml"
                                                               Write(orderid);

#line default
#line hidden
#nullable disable
            WriteLiteral("\'\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    </script>\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Tuple<GProject.Data.DomainClass.Product, List<GProject.Data.DomainClass.ProductVariation>,
GProject.Data.DomainClass.Brand, EvaluateCommentDTO, decimal, int, Customer>> Html { get; private set; }
    }
}
#pragma warning restore 1591
