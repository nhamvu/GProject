#pragma checksum "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e8d2ff291335493fef87f750465b8811f14441d9"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Product_ShowDetailMyCart), @"mvc.1.0.view", @"/Views/Product/ShowDetailMyCart.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\_ViewImports.cshtml"
using GProject.WebApplication;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
using GProject.WebApplication.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
using GProject.Api.MyServices.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
using GProject.Data.DomainClass;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
using GProject.WebApplication.Helpers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
using GProject.WebApplication.Models.DeliveryAddressAndShippingFee;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
using GProject.WebApplication.Services;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"e8d2ff291335493fef87f750465b8811f14441d9", @"/Views/Product/ShowDetailMyCart.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b08ccb6f7db288cae79c4c47cdc6330c880c5d3c", @"/Views/_ViewImports.cshtml")]
    public class Views_Product_ShowDetailMyCart : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<GProject.WebApplication.Models.CartDTO>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("Searchform"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("name", new global::Microsoft.AspNetCore.Html.HtmlString("searchForm"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "post", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("form-horizontal"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("action", new global::Microsoft.AspNetCore.Html.HtmlString("/Product/ShowDetailMyCart"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("style", new global::Microsoft.AspNetCore.Html.HtmlString("width:120px;height:50px;"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "0", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_7 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("formdata"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_8 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("action", new global::Microsoft.AspNetCore.Html.HtmlString("/Order/Order"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_9 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("form-horizontal d-block"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 9 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
  
    ViewBag.Title = "Giỏ Hàng";
    Layout = "~/Views/Shared/_Layout.cshtml";


    IList<SelectListItem> StoreItems = new List<SelectListItem>();
    int brand = int.Parse(Html.Encode(ViewData["brand"]));
    if (Model.Select(c => c.Brand).ToList().Count > 0)
    {
        StoreItems.Add(new SelectListItem()
                {
                    Value = "-1",
                    Text = "-- Tất cả --",
                    Selected = "-1" == brand.ToString(),
                });

        foreach (var br in Model.Select(c => c.Brand).ToList().Distinct())
        {
            if (StoreItems.FirstOrDefault(c => c.Value == br.Id.ToString()) == null)
            {
                StoreItems.Add(new SelectListItem()
                        {
                            Value = br.Id.ToString(),
                            Text = br.Name,
                            Selected = br.Id == brand,
                        });
            }
        }
    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<style>

    .buttons_added {
        opacity: 1;
        display: inline-block;
        display: -ms-inline-flexbox;
        display: inline-flex;
        white-space: nowrap;
        vertical-align: top;
    }

    .is-form {
        overflow: hidden;
        position: relative;
        background-color: #f9f9f9;
        height: 2.2rem;
        width: 1.9rem;
        padding: 0;
        text-shadow: 1px 1px 1px #fff;
        border: 1px solid #ddd;
    }

        .is-form:focus, .input-text:focus {
            outline: none;
        }

        .is-form.minus {
            border-radius: 4px 0 0 4px;
        }

        .is-form.plus {
            border-radius: 0 4px 4px 0;
        }

    .quantity {
        background-color: #fff;
        height: 2.2rem;
        text-align: center;
        font-size: 1rem;
        display: inline-block;
        vertical-align: top;
        margin: 0;
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
      ");
            WriteLiteral(@"  border-left: 0;
        border-right: 0;
        padding: 0;
    }

    .input-qty::-webkit-outer-spin-button, .input-qty::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    #btnOrder {
        display: inline-block;
        font-size: 20px;
        padding: 10px 10px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: black;
        background-color: white;
        border: none;
        border-radius: 15px;
        border: 2px solid Red;
        box-shadow: 0 9px #999;
        margin: 10px 20px;
    }

        #btnOrder:hover {
            background-color: #00FF33; /* Green */
            color: white;
        }

        #btnOrder:active {
            background-color: #3e8e41;
            box-shadow: 0 5px #666;
            transform: translateY(4px);
        }
</style>
<script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js""></script>");
            WriteLiteral("\r\n");
#nullable restore
#line 122 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
 if (@ViewData["Mess"] != null)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <p style=\"visibility: hidden;\" id=\"error\">");
#nullable restore
#line 124 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                         Write(ViewData["Mess"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n");
#nullable restore
#line 125 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
}

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<div class=""super_container"">
    <div class=""col product_section clearfix"">

        <!-- Breadcrumbs -->

        <div class=""row d-none d-lg-block motor-breadscrumb"">
            <a class=""breadscrumb-parent"" href=""/product/index"">Trang chủ</a>
            <span class=""breadscrumb-arrow"">❯</span>
            <a class=""breadscrumb-parent"" href=""/Product/showdetailmycart"">Giỏ hàng của tôi</a>
        </div>

        <!-- Sidebar -->
        <div class=""row"">
            <div class=""sidebar col-md-3"">
                <div class=""sidebar_section p-3"" style=""background-color:#E5E5E5;"">
                    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e8d2ff291335493fef87f750465b8811f14441d912936", async() => {
                WriteLiteral(@"
                        <div class=""row"">
                            <div class=""col-md-12"">
                                <div class=""panel panel-default"">
                                    <div class=""panel-body"">
                                        <div>
                                            <h1>TÌM KIẾM</h1>
                                            <div class=""form-group row"">
                                                <button class=""btn col-md-3 m-2"" style=""background-color:red;"" type=""button""><i class=""fa fa-search"" aria-hidden=""true"" style=""margin-right:4px;""></i></button>
                                                <input type=""text"" id=""prodName"" name=""prodName""");
                BeginWriteAttribute("value", " value=\"", 4981, "\"", 4989, 0);
                EndWriteAttribute();
                WriteLiteral(@" placeholder=""Tên sản phẩm"" class=""form-control col-md-8"" />
                                            </div>
                                            <div class=""form-group row"">
                                                <h3 class=""col-md-4 control-label""><strong>Nhãn hiệu</strong></h3>
                                                <div class=""col-md-8 col-xs-12"">
                                                    ");
#nullable restore
#line 155 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                               Write(Html.DropDownList("brand", StoreItems, new { @maxlength = "30", @class = "searchText form-control" }));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                                                </div>
                                            </div>
                                            <div class=""form-group row"">
                                                <h3 class=""col-md-4 control-label""><strong>Giá từ</strong></h3>
                                                <div class=""col-md-8 col-xs-12"">
");
#nullable restore
#line 161 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                                      
                                                        decimal fPrice = decimal.Parse(Html.Encode(ViewData["fPrice"]));
                                                    

#line default
#line hidden
#nullable disable
                WriteLiteral("                                                    ");
#nullable restore
#line 164 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                               Write(Html.DropDownList("fPrice",new[]
                                                    {
                                                    new SelectListItem{Text="-- Tất cả --", Value="-1", Selected= (fPrice== -1)},
                                                    new SelectListItem{Text="0 VNĐ", Value="0", Selected= (fPrice== 0)},
                                                    new SelectListItem{Text="100.000 VNĐ", Value="100000", Selected= (fPrice== 100000)},
                                                    new SelectListItem{Text="200.000 VNĐ", Value="200000", Selected=  (fPrice == 200000)},
                                                    new SelectListItem{Text="500.000 VNĐ", Value="500000", Selected= (fPrice== 500000)},
                                                    new SelectListItem{Text="1.000.000 VNĐ", Value="1000000", Selected=  (fPrice == 1000000)}
                                                    }, new { @name = "sStatus", @class="searchText form-control select"}));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                                                </div>
                                            </div>
                                            <div class=""form-group row"">
                                                <h3 class=""col-md-4 control-label""><strong>Đến</strong></h3>
                                                <div class=""col-md-8 col-xs-12"">
");
#nullable restore
#line 178 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                                      
                                                        int tPrice = int.Parse(Html.Encode(ViewData["tPrice"]));
                                                    

#line default
#line hidden
#nullable disable
                WriteLiteral("                                                    ");
#nullable restore
#line 181 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                               Write(Html.DropDownList("tPrice",new[]
                                                    {
                                                    new SelectListItem{Text="-- Tất cả --", Value="-1", Selected= (tPrice== -1)},
                                                    new SelectListItem{Text="0 VNĐ", Value="0", Selected= (tPrice== 0)},
                                                    new SelectListItem{Text="< 100.000 VNĐ", Value="100000", Selected= (tPrice== 100000)},
                                                    new SelectListItem{Text="< 200.000 VNĐ", Value="200000", Selected=  (tPrice == 200000)},
                                                    new SelectListItem{Text="< 500.000 VNĐ", Value="500000", Selected= (tPrice== 500000)},
                                                    new SelectListItem{Text="< 1.000.000 VNĐ", Value="1000000", Selected=  (tPrice == 1000000)},
                                                    new SelectListItem{Text="trên 1.000.000 VNĐ", Value="1000001", Selected=  (tPrice == 1000001)}
                                                    }, new { @name = "sStatus", @class="searchText form-control select"}));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=""panel-footer text-center"">
                                        <button class=""btn btn-success"" onclick=""$('.searchText').removeAttr('disabled')"" type=""submit""><i class=""fa fa-search""></i>Tìm kiếm</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_2.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
                </div>
            </div>
            <div class=""main_content col-md-9"">
                <div class=""row"">
                    <div class=""panel panel-default"">
                        <div class=""panel-heading"">
                            <h3 class=""panel-title"" style=""background-color:#E5E5E5; text-align:center; height:50px; padding:10px 10px 10px 10px;""><i class=""fa fa-cubes"" aria-hidden=""true"" style=""margin-right:10px;""></i>DANH SÁCH SẢN PHẨM</h3>
                        </div>
                        <div class=""panel panel-default"" id=""selected-inv-panel"" style=""height: 3.5rem; float: right; width:fit-content;box-shadow:1px 1px 1px 1px rgb(0 0 0 / 20%); display: block"">
                            <div class=""panel-body"">
                                <p>
                                    <span style=""color:dodgerblue;cursor:pointer"">
                                        <i class=""fa fa-check-circle-o""></i>Đã chọn
                                    </span>
     ");
            WriteLiteral(@"                               <b id=""selected-invs"">0</b>
                                    <span style=""color:dodgerblue;cursor:pointer"">
                                        trên tổng số
                                    </span>
                                    <b>");
#nullable restore
#line 220 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                  Write(Model.Select(c => c.CartDetail).Count());

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</b>
                                    <span style=""color:dodgerblue;cursor:pointer"">
                                        sản phẩm
                                    </span>
                                </p>
                            </div>
                        </div>
                        <div class=""panel-body"">
                            <div class=""table-responsive"" style=""overflow-y: auto; max-height: 700px;"">
                                <table class=""table table-bordered table-hover sticky-table"">
                                    <thead class=""sticky-header"">
                                        <tr>
                                            <th>STT</th>
                                            <th style=""width:100px;"">Hình ảnh</th>
                                            <th style=""width:220px;"">Tên sản phẩm</th>
                                            <th>Nhãn hiệu</th>
                                            <th>Phân loại sản phẩm</th>
   ");
            WriteLiteral(@"                                         <th>Đơn giá</th>
                                            <th>Số lượng</th>
                                            <th>Thành tiền</th>
                                            <th style=""width: 40px; text-align: center"">
                                                ");
#nullable restore
#line 241 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                           Write(Html.CheckBox("ckbAll", new { style="vertical-align:middle;"}));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                            </th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n");
#nullable restore
#line 246 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                         if (Model != null && Model.Count() > 0)
                                        {
                                            int i = 0;
                                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 249 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                             foreach (var item in Model)
                                            {
                                                i++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <tr>\r\n                                                    <td hidden><input class=\"cartId\" disabled hidden=\"hidden\" type=\"text\"");
            BeginWriteAttribute("value", " value=\"", 13170, "\"", 13214, 1);
#nullable restore
#line 253 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
WriteAttributeValue("", 13178, item.CartDetail.CartId.ToString(), 13178, 36, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></td>\r\n                                                    <td hidden><input class=\"prodVariationId\" disabled hidden=\"hidden\" type=\"text\"");
            BeginWriteAttribute("value", " value=\"", 13353, "\"", 13409, 1);
#nullable restore
#line 254 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
WriteAttributeValue("", 13361, item.CartDetail.ProductVariationId.ToString(), 13361, 48, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></td>\r\n                                                    <td>");
#nullable restore
#line 255 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                                   Write(i);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                                    <td>\r\n                                                        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "e8d2ff291335493fef87f750465b8811f14441d927573", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            BeginAddHtmlAttributeValues(__tagHelperExecutionContext, "src", 2, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            AddHtmlAttributeValue("", 13640, "~/images/", 13640, 9, true);
#nullable restore
#line 257 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
AddHtmlAttributeValue("", 13649, item.ProductVariation.Image, 13649, 28, false);

#line default
#line hidden
#nullable disable
            EndAddHtmlAttributeValues(__tagHelperExecutionContext);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n                                                    </td>\r\n                                                    <td>");
#nullable restore
#line 259 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                                   Write(item.Product.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                                    <td>");
#nullable restore
#line 260 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                                   Write(item.Brand.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                                    <td>Màu: ");
#nullable restore
#line 261 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                                         Write(item.Color.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(" <br /> Size: ");
#nullable restore
#line 261 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                                                                         Write(item.Size.Code);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                                    <td>\r\n                                                        <input type=\"text\" class=\"price align-right textr\" readonly maxlength=\"18\"");
            BeginWriteAttribute("value", " value=\"", 14207, "\"", 14256, 1);
#nullable restore
#line 263 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
WriteAttributeValue("", 14215, item.CartDetail.Price.ToString("0.##"), 14215, 41, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                                                    </td>
                                                    <td>
                                                        <div class=""buttons_added"">
                                                            <input class=""minus is-form"" type=""button"" value=""-"" style=""width:20px;"">
                                                            <input readonly aria-label=""quantity"" class=""quantity"" type=""text"" id=""quantity"" name=""quantity""");
            BeginWriteAttribute("value", " value=\"", 14755, "\"", 14788, 1);
#nullable restore
#line 268 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
WriteAttributeValue("", 14763, item.CartDetail.Quantity, 14763, 25, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" min=""1"" max=""100"">
                                                            <input class=""plus is-form"" type=""button"" value=""+"" style=""width:20px;"">
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <input class=""totalMoneyItem"" readonly type=""text""");
            BeginWriteAttribute("value", " value=\"", 15231, "\"", 15268, 1);
#nullable restore
#line 273 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
WriteAttributeValue("", 15239, item.CartDetail.ToatlMoney, 15239, 29, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                                                    </td>
                                                    <td>
                                                        <input name=""cbid"" id=""cbid"" type=""checkbox"" class=""ckbProdItem"" onclick=""changeSelectedProd(this)""");
            BeginWriteAttribute("value", " value=\"", 15544, "\"", 15552, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n                                                    </td>\r\n                                                </tr>\r\n");
#nullable restore
#line 279 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 279 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                             
                                        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th colspan=""6""><h3><strong>Tổng tiền thanh toán</strong></h3></th>
                                            <th colspan=""3""><h3><strong><input id=""totalPayment"" style=""color:red; text-align:right;"" /></strong></h3></th>
                                        </tr>
                                    </tfoot>
                                </table>
                                <div class=""element-right"">
                                    <button type=""submit"" id=""btnOrder"" class=""btn btn-primary col-md-3""><i class=""fa fa-calendar-check-o"" style=""margin-right:10px;""></i>ĐẶT MUA</button>
                                </div>
                                <div class=""element-right"">
                                    <button type=""button"" id=""btnOrder"" onclick=""RemoveToCart()"" class=""btn btn-danger col-md-3""><i ");
            WriteLiteral(@"class=""fa fa-calendar-check-o"" style=""margin-right:10px;""></i>Gỡ khỏi giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class=""modal"" id=""OrderModal"" role=""dialog"">
    <div class=""modal-dialog modal-md"" style=""text-align:left; background-color:white; max-width:900px"">
        <div style=""width:900px;"">
            ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e8d2ff291335493fef87f750465b8811f14441d935731", async() => {
                WriteLiteral(@"
                <div class=""modal-content justify-content-center"" style=""border-width:1px;"">
                    <div class=""modal-header"" style=""width:800px;"">
                        <h2 class=""modal-title text-center""><strong><i class=""fa fa-cubes"" aria-hidden=""true"" style=""margin-right:5px;""></i>THÔNG TIN ĐƠN HÀNG</strong></h2>
                    </div>
                    <div class=""modal-body"">
                        <input type=""text"" id=""cTotalMoney"" name=""cTotalMoney"" hidden=""hidden"" />
                        <input type=""text"" id=""cShippingFee"" name=""cShippingFee"" hidden=""hidden"" />
                        <input type=""text"" id=""idDeliveryAddress"" name=""idDeliveryAddress""");
                BeginWriteAttribute("value", " value=\"", 18085, "\"", 18093, 0);
                EndWriteAttribute();
                WriteLiteral(" hidden=\"hidden\" />\r\n                        <input type=\"text\" id=\"cGiamGia\" name=\"cGiamGia\"");
                BeginWriteAttribute("value", " value=\"", 18187, "\"", 18195, 0);
                EndWriteAttribute();
                WriteLiteral(@" hidden=""hidden"" />

                        <div class=""row"">
                            <div class=""col-md-12"">
                                <div class=""form-group"">
                                    <label class=""control-label col-sm-5""><strong>Địa chỉ đặt hàng:<span style=""color: red"">(*)</span></strong></label>
                                    <div class=""col-sm-12"">
                                        <select id=""selectDeliveryAddress"" class=""form-select"">
                                        </select>
                                        <button style=""margin-top: 5px;"" class=""btn btn-success "" onclick=""OpenDeliveryAddress(); return false;"" data-toggle=""ajax-modal"" data-target=""#showDataDeliveryAddress"" data-url=""/DeliveryAddress/Index"">
                                            Thêm
                                        </button>
                                    </div>

                                </div>
                            </div>
                 ");
                WriteLiteral(@"       </div>
                        <div class=""row"">
                            <div class=""col-md-6"">
                                <div class=""form-group"">
                                    <label class=""control-label col-sm-5""><strong>Email:<span style=""color: red"">(*)</span></strong></label>
                                    <div class=""col-sm-12"">
                                        <input type=""email"" id=""ShippingEmail"" name=""ShippingEmail""");
                BeginWriteAttribute("value", " value=\"", 19690, "\"", 19698, 0);
                EndWriteAttribute();
                BeginWriteAttribute("placeholder", " placeholder=\"", 19699, "\"", 19713, 0);
                EndWriteAttribute();
                WriteLiteral(@" class=""form-control"" />
                                    </div>
                                </div>
                            </div>
                            <div class=""col-md-6"">
                                <div class=""form-group"">
                                    <label class=""control-label col-sm-6""><strong>Phương thức thanh toán:<span style=""color: red"">(*)</span></strong></label>
                                    <div class=""col-sm-12"">
");
#nullable restore
#line 345 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                          
                                            int PaymentType = 0;
                                        

#line default
#line hidden
#nullable disable
                WriteLiteral("                                        ");
#nullable restore
#line 348 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                   Write(Html.DropDownList("PaymentType",new[]
                                        {
                                        new SelectListItem{Text="Thanh toán khi nhận hàng", Value="0", Selected= (PaymentType== 0)},
                                        new SelectListItem{Text="Thanh toán khi đặt hàng", Value="1", Selected= (PaymentType== 1)},
                                        }, new { @name = "PaymentType", @class="searchText form-control select"}));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                                    </div>
                                </div>
                            </div>
                            <div class=""col-md-6"">
                                <div class=""form-group"">
                                    <label class=""control-label col-sm-6""><strong>Mã giảm giá:</strong></label>
                                    <div class=""col-sm-12"">
                                        <select id=""selectVoucher"" name=""selectVoucher"" class=""form-select"">
                                            ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e8d2ff291335493fef87f750465b8811f14441d941206", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_6.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_6);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class=""form-group"">
                                <label class=""control-label col-sm-3""><strong>Mô tả của bạn:</strong></label>
                                <div class=""col-sm-12"">
                                    <textarea class=""form-control"" name=""cDescription"" id=""cDescription"" cols=""50"" rows=""5"" style=""border:double 4px orange;""></textarea>
                                </div>
                            </div>
                            <div class=""form-group row"">
                                <div class=""col-sm-9"">
                                    <label class=""control-label col-md-12""><strong>Phí ship:</strong></label>
                                </div>
                                <div class=""col-sm-3"">
                                    <p><strong id=""txtPhiShip");
                WriteLiteral(@""">0</strong><strong style=""margin-left: 5px;"">đ</strong></p>
                                </div>
                            </div>
                            <div class=""form-group row"">
                                <div class=""col-sm-9"">
                                    <label class=""control-label col-md-12""><strong>Giảm giá:</strong></label>
                                </div>
                                <div class=""col-sm-3"">
                                    <p><strong>- </strong> <strong id=""txtGiamGia"">0</strong><strong style=""margin-left: 5px;"">đ</strong></p>
                                </div>
                            </div>
                            <div class=""form-group row"">
                                <div class=""col-sm-9"">
                                    <label class=""control-label col-md-12""><strong>Tổng tiền sản phẩm:</strong></label>
                                </div>
                                <div class=""col-sm-3"">
               ");
                WriteLiteral(@"                     <p><strong id=""txtTotalProduct""></strong><strong style=""margin-left: 5px;"">đ</strong></p>
                                </div>
                            </div>
                            <div class=""form-group row"">
                                <div class=""col-sm-9"">
                                    <h2><label class=""control-label col-md-12""><strong>Tổng tiền thanh toán:</strong></label></h2>
                                </div>
                                <div class=""col-sm-3"">
                                    <h2><strong style=""color:red;"" id=""textTotalMoney""></strong><strong style=""margin-left: 5px;color:red;"">đ</strong></h2>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=""modal-footer"">
                        <button type=""submit"" class=""btn btn-sm btn-success"" id=""cpCopyBtn""><i class=""fa fa-check"" aria-hidden=""true""></i> Đặt hàng</butt");
                WriteLiteral(@"on>
                        <button type=""button"" class=""btn btn-sm btn-default btn-dimiss-modal"" id=""btnCloseModal"">
                            <i class=""fa fa-times""></i> Đóng
                        </button>
                    </div>
                </div>

            ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_7);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_8);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_2.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_9);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
        </div>
    </div>
</div>

<script type=""text/javascript"">
    $(document).ready(function () {
        document.querySelector('#formdata').addEventListener('submit', function (e) {
            var form = this;
            e.preventDefault();
            if (checkValidateData()) {
                swal(""Bạn chắc chắn muốn đặt đơn hàng này?"", {
                    title: 'Bạn chắc chắn muốn đặt đơn hàng này?',
                    icon: 'info',
                    buttons: [""Không, tôi cần xem lại"", ""Có, tôi đồng ý""],
                }).then(function (isConfirm) {
                    if (isConfirm) {
                        form.submit();
                    } else {
                        swal(""Đã hủy"", ""Bạn đã không lưu những thay đổi này!"", ""error"");
                    }
                });
            }
        });



        $(""#selectDeliveryAddress"").change(function () {
            let _id = $(""#selectDeliveryAddress"").val();
            $.ajax({
                url");
            WriteLiteral(@": ""/Product/GetDataDeliveryAddress?id="" + _id,
                type: ""GET"",
                success: function (result) {
                    if (result != null) {
                        ShippingFee(result.districtID, result.wardCode)
                        $(""#idDeliveryAddress"").val(result.id)
                    }
                    else {
                        var total = parseFloat(document.querySelector('#txtTotalProduct').innerText.replace(/,/g, '')) - parseFloat(document.querySelector('#txtGiamGia').innerText.replace(/,/g, ''))
                        if (total < 0) {
                            total = 0;
                        }
                        swal(""Thông báo!"", ""Bạn không được để trống thông tin địa chỉ!"", ""error"");
                        $(""#txtPhiShip"").text(commasThousands(0))
                        $('#textTotalMoney').text(commasThousands(total));
                        $('#cTotalMoney').val(total);
                        $('#cShippingFee').val(0);
          ");
            WriteLiteral(@"          }
                }
            })
        });

        function ShippingFee(district_id, ward_code) {
            $.ajax({
                url: ""/Product/ShippingFee?district_id="" + district_id + ""&ward_code="" + ward_code,
                type: ""GET"",
                success: function (result) {
                    var total = 0;
                    total = parseFloat(document.querySelector('#txtTotalProduct').innerText.replace(/,/g, '')) + result - parseFloat(document.querySelector('#txtGiamGia').innerText.replace(/,/g, ''));                    
                    if (total < 0) {
                        total = 0;
                    }
                    $('#textTotalMoney').text(commasThousands(total));
                    $('#cTotalMoney').val(total);
                    $('#cShippingFee').val(result);
                    $(""#txtPhiShip"").text(commasThousands(result))
                }
            })
        }

        function GetDataVoucher(totalMoneyOrder) {
       ");
            WriteLiteral(@"     $.ajax({
                url: ""/Product/GetVoucher?totalMoneyOrder="" + totalMoneyOrder,
                type: ""GET"",
                success: function (result) {
                    var renderData = ""<option></option>"";
                    $.each(result, function (value) {
                        var date = result[value].expirationDate;
                        renderData += '<option value=""' + result[value].id + '"">' + result[value].name + '</option>';
                        renderData += '<option disabled style = ""font-style:italic"" > (Đơn Tối Thiểu ' + commasThousands(result[value].minimumOrder) + 'đ)' + '</option>'

                        if(result[value].discountForm == ""%"")
                            renderData += '<option disabled style = ""font-style:italic"" > (Giảm tối đa ' + commasThousands(result[value].maximumDiscount) + 'đ)' + '</option>'

                        renderData += '<option disabled style = ""font-style:italic"" > (HSD: ' + ConvertDate(date) + ')' + ' </option>'
    ");
            WriteLiteral(@"                    renderData += '<option disabled style=""font-style:italic""></option>'
                    });
                    $(""#selectVoucher"").html(renderData)
                }
            })
        }

        $(""#selectVoucher"").change(function () {
            let _id = $(""#selectVoucher"").val();
            $.ajax({
                url: ""/Product/GetVoucher?id="" + _id,
                type: ""GET"",
                success: function (result) {
                    let totalProduct = parseFloat(document.querySelector('#txtTotalProduct').innerText.replace(/,/g, ''));
                    let discount = 0;
                    var total = 0;
                    if (result != null) {
                        if (result.discountForm == ""%"") {
                            discount = Math.round(TinhPhanTram(totalProduct, result.discountRate))
                            if(discount > result.maximumDiscount)
                                discount = result.maximumDiscount
               ");
            WriteLiteral(@"         }
                        else {
                            discount = result.discountRate
                        }
                        $(""#txtGiamGia"").text(commasThousands(discount))
                        total = totalProduct - discount + parseFloat(document.querySelector('#txtPhiShip').innerText.replace(/,/g, ''));
                    }
                    else {
                        swal(""Thông báo!"", ""Mã giảm giá không được áp dụng!"", ""error"");
                        $(""#txtGiamGia"").text(0)
                        $(""#txtDiscountForm"").text(""Vnd"")
                        total = totalProduct + parseFloat(document.querySelector('#txtPhiShip').innerText.replace(/,/g, ''));
                    }
                    
                    if(total < 0)
                    {
                        total = 0;
                    }

                    $('#textTotalMoney').text(commasThousands(total));
                    $('#cTotalMoney').val(total);
                  ");
            WriteLiteral(@"  $('#cGiamGia').val(discount);
                }
            })
        });

        function TinhPhanTram(tongtien, giamgia) {
            let thanhtien = tongtien - (tongtien * ((100 - giamgia) / 100))
            return thanhtien
        }

        function ConvertDate(time) {
            var date = new Date(time);
            var dateConvert = (((date.getDate() > 9) ? date.getDate() : ('0' + date.getDate())) + '/' + ((date.getMonth() > 8) ? (date.getMonth() + 1) : ('0' + (date.getMonth() + 1))) + '/' + date.getFullYear())
            return dateConvert
        }

        $('input.quantity').each(function () {
            var $this = $(this),
                qty = $this.parent().find('.is-form'),
                min = Number($this.attr('min')),
                max = Number($this.attr('max'))
            if (min == 0) {
                var d = 0
            } else d = min
            $(qty).on('click', function () {
                if ($(this).hasClass('minus')) {
                ");
            WriteLiteral(@"    if (d > min) d += -1;
                } else if ($(this).hasClass('plus')) {
                    var x = Number($this.val()) + 1
                    if (x <= max) d += 1;
                }
                $this.attr('value', d).val(d);
                var _priceVal = parseFloat($(this).parents(""tr"").find(""input[type=text].price"").val()) || 0;
                var _quantityVal = parseFloat($(this).parents(""tr"").find(""input[type=text].quantity"").val()) || 0;
                $(this).parents(""tr"").find(""input[type=text].totalMoneyItem"").val(_priceVal * _quantityVal);
                loadMoney();
            })
        });






        $('#ckbAll').change(function () {
            if ($(this).is(':checked')) {
                $('.ckbProdItem').prop('checked', true);
                $('#selected-invs').text(");
#nullable restore
#line 588 "D:\GProject\GProject.WebApplication\GProject.WebApplication\Views\Product\ShowDetailMyCart.cshtml"
                                    Write(Model.Select(c => c.CartDetail).Count());

#line default
#line hidden
#nullable disable
            WriteLiteral(@");
                loadMoney();
            } else {
                $('.ckbProdItem').prop('checked', false);
                $('#totalPayment').val(0);
                $('#selected-invs').text('0');
            }
        });

        $('#btnOrder').click(function () {
            // Lấy số lượng checkbox đã được chọn
            var length = $('input[name=cbid]:checked').length;

            // Nếu không có checkbox nào được chọn, hiển thị thông báo lỗi
            if (length == 0) {
                swal('Lỗi', 'Bạn chưa chọn sản phẩm', 'error');
                return;
            }

            DataAddressCustomer()

            var total = parseFloat(document.querySelector('#txtTotalProduct').innerText.replace(/,/g, ''))
            GetDataVoucher(total);
            $('#textTotalMoney').text(commasThousands(total));
            $('#cTotalMoney').val(total);

            var products = [];
            $('input[name=cbid]:checked').each(function () {
                var _produc");
            WriteLiteral(@"t = {};
                _product.cartId = $(this).parents(""tr"").find(""input[type=text].cartId"").val();
                _product.prodVariationId = $(this).parents(""tr"").find(""input[type=text].prodVariationId"").val();
                _product.size = $(this).parents(""tr"").find(""select.size"").val();
                _product.price = parseFloat($(this).parents(""tr"").find(""input[type=text].price"").val()) || 0;
                _product.quantity = parseInt($(this).parents(""tr"").find(""input[type=text].quantity"").val()) || 0;
                _product.totalMoneyItem = parseFloat($(this).parents(""tr"").find(""input[type=text].totalMoneyItem"").val()) || 0;
                products.push(_product);
            });
            if (products.length == 0) {
                swal('Lỗi', 'Bạn chưa chọn sản phẩm', 'error');
            }
            else {
                //Lấy danh sách sản phẩm và Session
                $.ajax({
                    data: {
                        products: JSON.stringify(products)
");
            WriteLiteral(@"                    },
                    contentType: 'application/json',
                    dataType: 'json',
                    url: '/Product/Order',
                    type: 'GET'
                });

                //Lấy thông tin người dùng
                $.ajax({
                    contentType: 'application/json',
                    dataType: 'json',
                    url: '/Product/GetCustomerInfo',
                    type: 'GET',
                    success: function (result) {
                        $(""#ShippingFullName"").val(result.name);
                        $(""#ShippingPhone"").val(result.phoneNumber);
                        //$(""#ShippingAddress"").val(result.address);
                        $(""#ShippingEmail"").val(result.email);
                    }
                });
                $('#OrderModal').modal('show');
            }
        });

        $('#btnCloseModal').click(function () {
            $('#OrderModal').modal('hide');
        });

    ");
            WriteLiteral(@"    var er = document.getElementById('error')
        if (er != null) {
            if ($('#error').text() == 'Failed')
                swal(""Không thành công"", ""Thao tác thất bại, vui lòng thực hiện lại"", ""error"");
            else
                swal(""Thành công"", ""Thao tác thành công"", ""success"");
        }
    });

    function loadMoney() {
        var _totalPaymentMoney = 0;
        $('table tbody tr .totalMoneyItem').each((index, item) => {
            var _price = parseFloat($(item).parents(""tr"").find(""input[type=text].price"").val()) || 0;
            var _quantity = parseInt($(item).parents(""tr"").find(""input[type=text].quantity"").val()) || 0;
            $(item).val(_price * _quantity);
            _totalPaymentMoney += parseFloat($(item).val());
        });
        $('#totalPayment').val(_totalPaymentMoney);
        //$('#cTotalMoney').val(_totalPaymentMoney);
        $('#txtTotalProduct').text(commasThousands(_totalPaymentMoney));
    }


    function OpenDeliveryAddress() {");
            WriteLiteral(@"
        $('#OrderModal').modal('hide');
    }


    function changeSelectedProd(param) {
        var totalItem = parseFloat($(param).parents(""tr"").find(""input[type=text].totalMoneyItem"").val()) || 0;
        var _totalPayment = parseFloat($('#totalPayment').val()) || 0;
        var selectedCount = parseInt($('#selected-invs').text()) || 0;
        if (param.checked) {
            $('#selected-invs').text(selectedCount + 1);
            $('#totalPayment').val(_totalPayment + totalItem);
        } else {
            $('#totalPayment').val(_totalPayment - totalItem);
            $('#selected-invs').text(selectedCount - 1);
        }
        loadMoney();
    }

    function commasThousands(nStr) {
        nStr += '';
        nStr = nStr.replace(/,/g, '');
        x = nStr.split('.');
        x1 = x[0];
        x2 = x.length > 1 ? '.' + x[1] : '';
        var rgx = /(\d+)(\d{3})/;
        while (rgx.test(x1)) {
            x1 = x1.replace(rgx, '$1' + ',' + '$2');
        }
        ret");
            WriteLiteral(@"urn x1 + x2;
    }

    function checkValidateData() {
        if ($('#selectDeliveryAddress').val() == '') {
            sweetAlert(""Thông báo"", ""Thông tin địa chỉ không được để trống"", ""error"");
            return false;
        }
        if ($('#ShippingEmail').val() == '') {
            sweetAlert(""Thông báo"", ""Thông tin email không được để trống"", ""error"");
            return false;
        }
        if (parseInt($('#cTotalMoney').val() || 0) === 0) {
            sweetAlert(""Thông báo"", ""Thông tin tổng tiền thanh toán không hợp lệ"", ""error"");
            return false;
        }
        return true;
    }

    //function validatePhoneNumber(code) {
    //    var regex = /(84|0[3|5|7|8|9])+([0-9]{8})\b/;
    //    return regex.test(code);
    //}

    function RemoveToCart() {
        var products = [];
        $('input[name=cbid]:checked').each(function () {
            var _product = {};
            _product.cartId = $(this).parents(""tr"").find(""input[type=text].cartId"").val();");
            WriteLiteral(@"
            _product.prodVariationId = $(this).parents(""tr"").find(""input[type=text].prodVariationId"").val();
            _product.size = $(this).parents(""tr"").find(""select.size"").val();
            _product.price = parseFloat($(this).parents(""tr"").find(""input[type=text].price"").val()) || 0;
            _product.quantity = parseInt($(this).parents(""tr"").find(""input[type=text].quantity"").val()) || 0;
            _product.totalMoneyItem = parseFloat($(this).parents(""tr"").find(""input[type=text].totalMoneyItem"").val()) || 0;
            products.push(_product);
        });
        if (products.length == 0) {
            swal('Lỗi', 'Bạn chưa chọn sản phẩm', 'error');
        }
        else {
            //Lấy danh sách sản phẩm và Session
            $.ajax({
                data: {
                    products: JSON.stringify(products)
                },
                contentType: 'application/json',
                dataType: 'json',
                url: '/Product/RemoveToCart',
           ");
            WriteLiteral("     type: \'GET\'\r\n            });\r\n            swal(\"Thành công\", \"Đã gỡ sản phẩm khỏi giỏ hàng\", \"success\");\r\n        }\r\n    }\r\n</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<GProject.WebApplication.Models.CartDTO>> Html { get; private set; }
    }
}
#pragma warning restore 1591
