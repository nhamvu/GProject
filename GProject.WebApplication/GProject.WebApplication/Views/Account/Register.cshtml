@model GProject.WebApplication.Models.CustomerDTO
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using GProject.WebApplication.Models
@using GProject.Api.MyServices.Services;

<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Dream Fashion</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Motorcycle_Shop_Project.styles.css" asp-append-version="true" />
    <!-- End Google Tag Manager -->
    <title>Danh sách sản phẩm</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Honda Home page" />
    <meta name="csrf-token" content="2qsuJcsnvDgnRtsOmsuTzOLHRskqRlW6g1Eifk6Z">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://www.honda.com.vn/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.honda.com.vn/css/common.css?v=1.0" />
    <link rel="stylesheet" type="text/css" href=https://www.honda.com.vn/css/xe-may/san-pham.css>
    <link rel="stylesheet" href="https://www.honda.com.vn/css/feel-the-performance/app.css">
    <link rel="stylesheet" type="text/css" href="https://www.honda.com.vn/css/xe-may/chi-tiet.css?v=1.0">
    <link rel="stylesheet" type="text/css" href="https://www.honda.com.vn/css/slick-theme.min.css">
    <link rel="stylesheet" type="text/css" href="https://www.honda.com.vn/css/slick.min.css">
    <link rel="stylesheet" href="~/css/designTextBox.css" />
    <link href="~/css/Sidebar_icons_animated.css" rel="stylesheet" />
    <link href="~/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/css/style.css" rel="stylesheet" />
    <link href="~/css/custom.css" rel="stylesheet" />
    <link href="~/css/responsive.css" rel="stylesheet" />
    <link href="~/css/versions.css" rel="stylesheet" />
    <link href="~/css/slick-theme.css" rel="stylesheet" />
    <link href="~/css/slick.css" rel="stylesheet" />

    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyCKjLTXdq6Db3Xit_pW_GK4EXuPRtnod4o"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="~/js/all.js"></script>
    <script src="~/js/custom.js"></script>
    <script src="~/js/mapsed.js"></script>
    <script src="~/bundles/jquery"></script>
    <script src="~/js/modernizer.js"></script>
    <script src="~/js/slick.js"></script>
@*<script src="~/js/slider.js"></script>*@
    <script src="~/js/slick.min.js"></script>
<style>
    label {
        color: black;
    }

    h1 {
        color: black;
    }

    .sticky-header th {
        position: sticky;
        top: 0px;
        z-index: 1;
        background-color: #E5E5E5;
    }

    .sticky-table {
        border-collapse: separate !important;
    }
</style>
<h1>ĐĂNG KÝ</h1>

@if (@ViewData["Mess"] != null)
{
        <p style="visibility: hidden;" id="error">@ViewData["Mess"]</p>
}
<form id="formdata" asp-action="SaveRegister" class="form" enctype="multipart/form-data">
    <input asp-for="Id" style="width:0px;height:0px;visibility: hidden;" hidden="hidden" />
    <div class="row mt-5">
        <div class="col-md-4">
            <label class="col-md-5"><strong>Tên khách hàng:<span style="color: red">(*)</span></strong></label>
            <input asp-for="Name" placeholder="Name" maxlength="200" class="form-control" />
        </div>
        <div class="col-md-4">
            <label class="col-md-5"><strong>Email:<span style="color: red">(*)</span></strong></label>
            <input asp-for="Email" type="email" placeholder="name@example.com" maxlength="200" class="form-control" />
        </div>
        <div class="col-md-4">
            <label class="col-md-5"><strong>Mật khẩu:<span style="color: red">(*)</span></strong></label>
            <input asp-for="Password" type="password" placeholder="password" maxlength="200" class="form-control" />
        </div>
        <div class="col-md-4">
            <label class="col-md-5"><strong>Ngày sinh:<span style="color: red">(*)</span></strong></label>
            <input asp-for="DateOfBirth" type="date" placeholder="__/ __/ ____" maxlength="200" class="form-control" />
        </div>
        <div class="col-md-4">
            <label class="col-md-5"><strong>Số điện thoại:<span style="color: red">(*)</span></strong></label>
            <input asp-for="PhoneNumber" type="text" placeholder="(+84) ..." maxlength="200" class="form-control" />
        </div>
        <div class="col-md-4">
            <strong><label>Giới tính:</label><span style="color: red">(*)</span></strong>
            <select asp-for="Sex" asp-items="@ViewBag.Sex" class="form-select col-md-5">
            </select>
            <span asp-validation-for="Sex" class="text-danger"></span>
        </div>
        <div class="col-md-4">
            <label class="col-md-5"><strong>Địa chỉ:<span style="color: red">(*)</span></strong></label>
            <input asp-for="Address" type="text" placeholder="Address" maxlength="200" class="form-control" />
        </div>
        <div class="col-md-4">
            <label class="col-md-5"><strong>Mô tả:</strong></label>
            <input asp-for="Description" type="text" placeholder="Description" maxlength="200" class="form-control" />
        </div>

        <div class="col-md-4">
            <label class="col-md-5"><strong>Hình ảnh:<span style="color: red">(*)</span></strong></label>
            <input asp-for="Image_Upload" type="file" class="form-control" />
        </div>
        <div class="col-md-2">
            <strong><label></label></strong>
            <button class="btn btn-success" type="submit" style="height:40px;width:110px;"><i class="fa fa-plus" aria-hidden="true" style="margin-right:4px;"></i>Lưu</button>
        </div>
    </div>

    <div class="text-center">
        <p>or sign up using:</p>
        <div class="btn-group" role="group">
            <a class="btn btn-default" asp-controller="OAuth" asp-action="ExternalLogin" asp-route-provider="Google" asp-route-returnurl="@ViewData["ReturnUrl"]">Google</a>
        </div>
    </div>
</form>
<script type="text/javascript">
    $(document).ready(function () {
        var er = document.getElementById('error')
        if (er != null) {
            if ($('#error').text() == 'Failed')
                swal("Không thành công", "Vui lòng xem lại thông tin đã nhập", "error");
            else
                swal("Thành công", "Bạn đã lưu thành công thông tin đã nhập", "success");
        }
    });
    function validatePhoneNumber(code) {
        var regex = /(84|0[3|5|7|8|9])+([0-9]{8})\b/;
        return regex.test(code);
    }
    document.querySelector('#formdata').addEventListener('submit', function (e) {
        var form = this;

        e.preventDefault();
        if (checkValidateData()) {
            swal("Bạn chắc chắn lưu những thay đổi này?", {
                title: 'Bạn chắc chắn muốn lưu nhưng thay đổi này?',
                icon: 'info',
                buttons: ["Không, tôi cần xem lại", "Có, tôi đồng ý"],
            }).then(function (isConfirm) {
                if (isConfirm) {
                    form.submit();
                } else {
                    swal("Đã hủy", "Bạn đã không lưu những thay đổi này!", "error");
                }
            });
        }
    });


    function checkValidateData() {
        if ($('#PhoneNumber').val() == '') {
            sweetAlert("Thông báo", "Thông tin số điện thoại không được để trống", "error");
            return false;
        }
        if (!validatePhoneNumber($('#PhoneNumber').val())) {
            sweetAlert("Thông báo", "Số điện thoại không đúng định dạng", "error");
            return false;
        }
        if ($('#Name').val() == '') {
            sweetAlert("Thông báo", "Thông tin tên màu không được để trống", "error");
            return false;
        }
        if ($('#Email').val() == '') {
            sweetAlert("Thông báo", "Thông tin email không được để trống", "error");
            return false;
        }
        if ($('#Address').val() == '') {
            sweetAlert("Thông báo", "Thông tin địa chỉ không được để trống", "error");
            return false;
        }
        return true;
    }
</script>